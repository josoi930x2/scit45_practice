<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>주민등록번호 예제</title>
    <!-- 
    주민등록번호 [630000-000000] (정보출력)
    1963년생 61세 남자입니다.
    
    1.연도구별 : 
    1900~ = 뒷자리 첫번째 (1,2)
    2000~ = 뒷자리 첫번째 (3,4)

    2.성별 : 
    남자 = 1,3 
    여자 = 2,4 

    3.나이
    
    *문자열 자르기
    *필요시 문자열을 int값으로 바꿔서 계산
    -->
    <script>
      window.onload = function () {
        let btn = document.querySelector("#btn");
        btn.addEventListener("click", function () {
          let result = document.querySelector("#result");
          let ssn = document.querySelector("#ssn").value;
          let year = parseInt(ssn.substring(0, 2));
          let gender = parseInt(ssn.charAt(7));

          let d = new Date();
          let nowYear = d.getFullYear();

          if (gender == 1 || gender == 2) {
            year = 1900 + year;
          } else if (gender == 3 || gender == 4) {
            year = 2000 + year;
          }
          //else if를 쓴 이유 : 추후 3,4이외에 추가될 가능성

          if (gender == 1 || gender == 3) {
            gender = "남자";
          } else {
            gender = "여자";
          }

          let age = parseInt(nowYear) - parseInt(year);

          result.innerHTML = `${year}년생 ${age}세 <span>${gender}</span>입니다`;
        });
      };
    </script>
  </head>

  <body>
    <label for="ssn">주민등록번호</label>&nbsp;&nbsp;
    <!-- &nbsp; 공백추가 -->
    <input type="text" id="ssn" placeholder="ex.000000-000000" />
    <input type="button" id="btn" value="정보출력" /><br />
    <div id="result"></div>
  </body>
</html>
