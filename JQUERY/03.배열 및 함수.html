<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="./jquery-3.7.1.js"></script>
    <script>
      function testArray() {
        let ar = [10, 20];
        ar.push(30);
        alert(`배열의 첫번째 요소 : ${ar[0]}, 배열의 크기: ${ar.length}`);
      }

      function testArray2() {
        let ar = [10, 20, 30, 40];

        for (let i = 0; i < ar.length; i++) {
          console.log(i + "번째: " + ar[i]);
        }

        console.log("----1번----");
        $.each(ar, function (i, v) {
          console.log(`${i}번째 : ${v}`);
        });

        console.log("----2번----");
        $(ar).each(function (i, v) {
          console.log(`${i}번째 : ${v}`);
        });
      }

      function testEach() {
        let score = [25, 35, 70, 90, 100, 85];
        let sum = 0;

        // score 배열의 모든 요소의 합계를 each()를 이용해서 구하시오

        $(score).each(function (i, s) {
          sum += s;
        });

        console.log("합계: ", sum);
      }

      function testEach2() {
        let arObject = [
          { num: 10, name: "aaa", title: "제목1" },
          { num: 20, name: "bbb", title: "제목2" },
          { num: 30, name: "ccc", title: "제목3" },
        ];
        $.each(arObject, function (index, ob) {
          console.log(`${index}, 이름: ${ob.name}, 제목: ${ob.title}`);
        });
      }

      /*
      arr.push('d');                배열의 끝에 요소를 추가
      arr.unshift('d');             배열의 앞쪽에 요소를 추가
      arr.splice(2, 0, 'd');        index 2 ('c')의 위치에 요소를 추가
      arr.pop();                    배열의 마지막 요소를 제거
      var popped = arr.pop();       제거한 요소를 반환 받을 수 있음
      */

      /*
      $.each() 함수는 배열이나 객체의 각 요소를 반복하는데 사용
        collection : 반복대상
        index : 현재 요소의 인덱스(배열) 또는 키(객체)
        value : 현재 요소의 값

        1번.

      $.each(collection, function(index, value) {
             //작업내용
         });
     
        2번.
      $(collection).each(function(index,value) {
             //작업내용
         });
      */

      function testMap() {
        // $.map() 함수는 배열이나 객체의 각 요소를 변형하는데 사용.
        // 새로운 배열을 반환하며, 각 요소는 원래 배열 또는 객체의 요소를 기반으로 변형

        // *차이
        // 단순한 반복작업을 수행하려면 $.each()
        // 변환 작업을 통해 새 배열을 만드려면 $.map()

        //$.map(collection, function(value, index) { //작업코드 });

        let objList = [
          { area: "서울", name: "무대리" },
          { area: "부산", name: "홍과장" },
          { area: "대전", name: "박사원" },
          { area: "서울", name: "이사장" },
        ];

        let newArr = $.map(objList, function (value, i) {
          if (value.area == "서울") {
            return value;
          }
        });
        console.log(newArr);

        // $.map을 이용하여 id가 result인 div태그에 데이터를 출력하시오.
        let str = "";
        str += `<table>`;
        str += "<tr>";
        str += "<th>No</th><th>이름</th><th>지역</th>";
        str += "</tr>";

        $.map(objList, function (value, index) {
          str += `<tr>`;
          str += `<td>${index}</td><td>${value.name}</td>`;
          str += `<td>${value.area}</td>`;
          str += `</tr>`;
        });

        str += `</table>`;

        $("#result").html(str);
      }
    </script>
  </head>
  <body>
    <h1>[배열 및 함수]</h1>
    <p><a href="javascript:testArray()">배열의 사용</a></p>
    <p><a href="javascript:testArray2()">배열의 사용2</a></p>
    <p><a href="javascript:testEach()">each() 함수 사용</a></p>
    <p><a href="javascript:testEach2()">each() 함수 사용2</a></p>
    <p><a href="javascript:testMap()">map() 함수 사용</a></p>
    <div id="result"></div>
  </body>
</html>
